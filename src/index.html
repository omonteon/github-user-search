<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Frontend Mentor challenge, GitHub user search app"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../assets/favicon-32x32.png"
    />
    <title>Frontend Mentor | GitHub user search app</title>
    <script>
      (function () {
        const THEME_BG_COLOR = { light: "#f6f8ff", dark: "#141d2f" };
        function getDefaultTheme() {
          const persistedThemePreference =
            localStorage.getItem("selected-theme");
          const hasPersistedPreference =
            typeof persistedThemePreference === "string";

          if (hasPersistedPreference) {
            const root = window.document.documentElement;
            root.style.setProperty(
              "--background-color",
              THEME_BG_COLOR[persistedThemePreference]
            );
            return persistedThemePreference;
          }
          try {
            // If they haven't been explicit, let's check the media query
            const preferedColorScheme = window.matchMedia(
              "(prefers-color-scheme: light)"
            );
            const hasMediaQueryPreference =
              typeof preferedColorScheme.matches === "boolean";

            if (hasMediaQueryPreference) {
              return preferedColorScheme.matches ? "light" : "dark";
            }
          } catch (error) {
            throw new Error(
              "prefers-color-scheme is not supported by the browser"
            );
          }
          return "light";
        }
        const theme = getDefaultTheme();
        const root = window.document.documentElement;
        root.style.setProperty("--background-color", THEME_BG_COLOR[theme]);
      })();
    </script>
  </head>
  <body>
    <main id="root"></main>
    <script type="module" src="./App.js"></script>
  </body>
</html>
